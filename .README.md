# Project Creator Application

## Overview

The Project Creator Application is an API-based tool designed to create and manage .NET and Azure Function projects. It provides functionalities to create projects, download them as ZIP files, and test API endpoints. This README file explains how to use the APIs, the input requirements, and details about the internal workings of the application.

## API Endpoints

### 1. **Create and Download Project**

**Endpoint:** `POST /ProjectCreator/CreateAndDownloadProject`

**Description:** Creates a new project based on the provided configuration and returns a ZIP file containing the project.

**Request Body:**

```json
{
  "Type": "console",
  "Name": "MyProject",
  "Template": "HTTP trigger",
  "Version": "3.1",
  "Authorization": "Function",
  "Framework": "net6.0"
}
```

- `Type` (string): Type of the project to create (e.g., "console", "func").
- `Name` (string): Name of the project.
- `Template` (string, optional): Template for Azure Functions (default is "HTTP trigger").
- `Version` (string, optional): Version of Azure Functions to use.
- `Authorization` (string, optional): Authorization level for Azure Functions.
- `Framework` (string, optional): Target framework version (default is "net6.0").

**Responses:**

- `200 OK`: Project created and ZIP file returned.
- `500 Internal Server Error`: Error message if the project creation or ZIP file generation fails.

### 2. **Create Project**

**Endpoint:** `POST /ProjectCreator/CreateProject`

**Description:** Creates a new project based on the provided configuration. This endpoint is for debugging purposes and does not return a downloadable file.

**Request Body:**

```json
{
  "Type": "web",
  "Name": "WebAppProject",
  "Template": "HTTP trigger",
  "Version": "6.0",
  "Authorization": "Function",
  "Framework": "net6.0"
}
```

**Responses:**

- `200 OK`: Confirmation message if the project is successfully created.
- `500 Internal Server Error`: Error message if the project creation fails.

### 3. **Download Project**

**Endpoint:** `GET /ProjectCreator/DownloadProject`

**Description:** Returns a ZIP file of the most recently created project. This endpoint is for debugging purposes and should only be called after a project has been created.

**Responses:**

- `200 OK`: ZIP file of the project.
- `500 Internal Server Error`: Error message if no project is available for download or if ZIP file creation fails.

### 4. **Test API**

**Endpoint:** `GET /ProjectCreator/TestApi`

**Description:** Simple endpoint to test if the API is up and running.

**Responses:**

- `200 OK`: Returns a simple message indicating the API is functional.

## Internal Logic

### Models

- **CreateProjectConfig**: Defines the configuration for creating a project.
- **CustomResult**: Used to encapsulate the result of operations, including success status, messages, and optional data.

### Interfaces

- **ICreateProjectRepository**: Interface defining methods for creating projects and generating ZIP files.

### Repository

- **CreateProjectRepository**: Implements the `ICreateProjectRepository` interface. It handles project creation using `dotnet` CLI or Azure Functions Core Tools and generates ZIP files.

**Key Methods:**

- `CreateProject(CreateProjectConfig projectConfig)`: Creates a .NET or Azure Function project based on the provided configuration.
- `CreateZipFile()`: Generates a ZIP file of the created project directory.

### Application Setup

- The application uses ASP.NET Core to handle HTTP requests.
- Swagger and HTTPS redirection are disabled in this configuration, but they can be enabled for development purposes.
- The application listens on port 80 by default.

## Getting Started

1. Clone the repository.
2. Ensure you have the necessary tools installed (`dotnet`, `func` for Azure Functions).
3. Run the application using `dotnet run`.
4. Use a tool like Postman or `curl` to test the API endpoints.

## Configuration

The configuration file (`appsettings.json`) contains logging settings and Kestrel server configurations. You can adjust the logging level and server URL as needed.

